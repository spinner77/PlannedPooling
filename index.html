<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Planned Pooling</title>
    <link rel="stylesheet" href="styles.css">
    <link href="https://fonts.googleapis.com/css2?family=Pacifico&display=swap" rel="stylesheet">
    <script src="https://html2canvas.hertzen.com/dist/html2canvas.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/xlsx/dist/xlsx.full.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/xlsx/0.18.5/xlsx.full.min.js"></script>
</head>
<body>
    <header>
        <h1>Planned Pooling Generator</h1>
        <div id="logo-placeholder"> <!-- Space for logo -->
            <!-- Logo will be added here later -->
        </div>
    </header>
    <div id="info-sections" style="display: flex; gap: 20px;">
        <!-- Left Section: What is Planned Pooling -->
        <section id="instructions" style="flex: 1;">
            <h2>What is Planned Pooling?</h2>
            <button id="toggle-info-btn" aria-expanded="false">Learn More</button>
            <div id="info-content" style="display: none;">
                <p>Planned pooling is a crochet technique that transforms variegated yarn into stunning, intentional patterns. Variegated yarn alternates between different colors in repeating sequences, and by carefully aligning the number of stitches with the yarn's color changes, crocheters can create visually striking designs like argyle, stripes, or geometric motifs.</p>
                <br>
                <p>This technique involves:</p>
                <ul>
                    <li>Choosing the right yarn: Variegated yarn with consistent color repeats works best.</li>
                    <li>Stitch math: Calculating the number of stitches per color segment to achieve the desired pattern.</li>
                    <li>Precision and patience: Adjusting tension and stitch placement to keep the colors pooling predictably.</li>
                </ul>
                <p>The result is a mesmerizing fabric that looks intricate but is achievable with basic crochet skills and a little planning.</p>
                <p>This app allows you to experiment with planned pooling by generating a live grid based on your color and stitch inputs. Have fun exploring different combinations and creating your own unique patterns!</p>
            </div>
        </section>
    
        <!-- Right Section: How to Use This App -->
        <section id="how-to-use" style="flex: 1;">
            <h2>How to Use This App</h2>
            <button id="toggle-instructions-btn" aria-expanded="false">Learn More</button>
            <div id="instructions-content" style="display: none;">
                <ol>
                    <li>Check your yarn is suitable, by first making a note of the colour repeat.  Make sure the colour repeat is the same through the yarn and the size each colour change is the same in each repeat.</li>
                    <li>Choose a suitable hook size for the weight of your yarn and use the swatch calculator to input your swatch gauge.</li>
                    <li>Decide how many stitches across you would roughly like your blanket to be.  The calculator will give you a guide on how wide the blanket will end up.</li>
                    <li>Use the Add Color button to add the colors in your yarn - be sure to add them in the correct order!</li>
                    <li>Chain a length of your yarn, 30 to 35 chains should be enough and make single crochets all along the chain.  Count how many single crochets you get for each color and add that to the number of stitches next to the color.</li>
                    <li>Use the up and down arrow on the number of stitches in a row to adjust the number of stitches.  Note how the pattern changes.</li>
                    <li>Once you are happy with your pattern, save your design by clicking on the Save button to export the grid data to an Excel spreadsheet.</li>
                </ol>
                <p>Follow these steps and have fun creating unique crochet patterns!</p>
            </div>
        </section>
    </div>
    <div id="container">
        <div id="controls">
            <div id="swatch-calculator">
                <h3>Swatch Calculator</h3>
                <p>Create a 10x10 swatch and measure it</p>
                <div class="input-group">
                    <label for="hook-size">Hook Size (mm):</label>
                    <input type="number" id="hook-size" step="0.25" min="2" max="20">
                </div>
                <div class="input-group">
                    <label for="yarn-weight">Yarn Weight:</label>
                    <select id="yarn-weight">
                        <option value="lace">Lace (0)</option>
                        <option value="superfine">Super Fine (1)</option>
                        <option value="fine">Fine (2)</option>
                        <option value="light">Light (3)</option>
                        <option value="medium">Medium/Worsted (4)</option>
                        <option value="bulky">Bulky (5)</option>
                        <option value="super-bulky">Super Bulky (6)</option>
                        <option value="jumbo">Jumbo (7)</option>
                    </select>
                </div>
                <div class="input-group">
                    <label for="swatch-width">10-Stitch Swatch Width (mm):</label>
                    <input type="number" id="swatch-width" min="1" placeholder="Enter swatch width">
                </div>
                <button id="calculate-width">Calculate Blanket Width</button>
                <div id="calculation-results">
                     <p>Final Blanket Width: <span id="blanket-width">-</span> mm (<span id="blanket-width-cm">-</span> cm)</p>
                </div>
            </div>
            <div id="color-inputs-section">
                <h3>Color Pattern</h3>
                <button id="add-color-btn" title="Click to add a new color and number of stitches">Add Color</button>
                <div id="color-inputs">
                    <!-- Color inputs will be added here -->
                </div>
                <div id="stitches-across">
                    <label for="stitches-across-input">Number of stitches in the row: </label>
                    <input type="number" id="stitches-across-input" name="stitches-across" placeholder="Number of stitches">
                </div>
            </div>
        </div>
    </div>
        <section id="live-grid">
            <h2>Live Grid</h2>
            <div id="grid">
                <!-- The live grid will be generated here -->
            </div>
            <button id="save-grid-btn">Save Grid</button>
            <button id="export-excel-btn">Export Grid to Excel</button>
        </section>
    </div>
    <footer>
        <p>&copy; 2025 Spinner77</p>
    </footer>
    <script src="app.js"></script>
</body>
</html>